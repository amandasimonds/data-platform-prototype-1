<uvx-action-bar>
    <div left>
        <p *ngIf="!showTargetDocuments" class="italic uv-font-gray">Select documents to get started</p>

        <div *ngIf="showTargetDocuments" class="flex flex-row">
            <div>
                <div class="sbs-action-bar-left-container flex flex-row align-items-center">
                    <span class="sbs-block medium-bold uv-body margin-right-12">{{loadedSourceDocuments[0].title}}</span>
                    <uvx-icon icon="compare" class="margin-right-12"></uvx-icon>
                    <p *ngIf="selectedTargetDocuments.length === 0" class="italic uv-font-gray">Collection: 0 documents selected</p>
                </div>
            </div>

            <div *ngIf="selectedTargetDocuments.length > 0" class="flex align-items-center">
                <div class="flex flex-wrap gap-4 margin-right-xs">
                    <span 
                    *ngFor="let item of selectedTargetDocuments" 
                    class="sbs-block sbs-block-selection medium-bold uv-body flex align-items-center">
                    {{item.title}}
                    <uvx-icon-button icon="close" size="xs" color="primary" class="margin-left-xxxs" (click)="unselectTargetDocument(item)"></uvx-icon-button>
                    </span>
                </div>
            </div>
        </div>

    </div>

    <div right class="flex flex-row sbs-action-bar-right-container justify-content-flex-end">
        <div>

            <div *ngIf="showTargetDocuments" class="flex align-items-center">
                <a *ngIf="!showMoreSelections" (click)="toggleShowMoreSelections()" class="sbs-action-bar-link uv-link">
                    Show {{selectedTargetDocuments.length}} more<uvx-icon icon="arrow_collapse" color="primary" class="margin-left-xxxs"></uvx-icon>
            </a>
            <a *ngIf="showMoreSelections" (click)="toggleShowMoreSelections()" class="sbs-action-bar-link uv-link">
                Show less<uvx-icon icon="arrow_expand" color="primary" class="margin-left-xxxs"></uvx-icon>
            </a>
            <div class="divider-left" style="height: 25px; margin: 0 8px;"></div>
            <a class="sbs-action-bar-link uv-link margin-right-sm"(click)="clearSelections(selectedTargetDocuments)">Clear all<uvx-icon icon="close" color="primary" class="margin-left-xxxs"></uvx-icon></a>
        </div>
    </div>

        <uvx-button mode="primary" [disabled]="!showTargetDocuments" label="Compare"></uvx-button>
    </div>

    <div bottom>
        <div class="row">
            <div class="col-6 flex flex-row justify-content-space-between padding-right-md">
                <p class="uv-body medium-bold">{{loadedSourceDocuments.length}} documents</p>
                <div class="position-relative">
                    <uvx-icon-button icon="more_dots" color="primary" class="margin-right-xxxs"></uvx-icon-button>
                    <uvx-icon-button icon="filter" color="primary" (click)="toggleFilterModal()" [active]="showFilterModal"></uvx-icon-button>
                    <sbs-filter-modal *ngIf="showFilterModal"></sbs-filter-modal>
                </div>
            </div>
            <div class="col-6 flex flex-row justify-content-space-between divider-left padding-left-md">
                <p class="uv-body medium-bold">
                    {{ showTargetDocuments ? loadedTargetDocuments.length : '0'}} documents</p>
                <div>
                    <uvx-icon-button icon="more_dots" color="primary" [disabled]="!showTargetDocuments" class="margin-right-xxxs"></uvx-icon-button>
                    <uvx-icon-button icon="filter" color="primary" [disabled]="!showTargetDocuments"></uvx-icon-button>
                </div>
            </div>
        </div>
    </div>
</uvx-action-bar>
